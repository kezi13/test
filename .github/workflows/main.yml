on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Deploy to'
        required: true
        default: 'stage'
        type: choice
        options:
        - stage
        - production

jobs:
  if: ('stage' === ${{ inputs.environment }})
    deploy-to-stage:
      runs-on: ubuntu-latest
      steps:
        - run: |
            echo "Environment: $ENVIRONMENT"
          env:
            ENVIRONMENT: ${{ inputs.environment }}
    if: ('stage' === ${{ inputs.environment }})
      deploy-to-production:
        if: ('production' === ${{ inputs.environment }})
        runs-on: ubuntu-latest
        steps:
          - run: |
              echo "Environment: $ENVIRONMENT"
            env:
              ENVIRONMENT: ${{ inputs.environment }}
          
